(this["webpackJsonpmarvel-heroes"]=this["webpackJsonpmarvel-heroes"]||[]).push([[0],{35:function(e,t,a){e.exports={button:"marvelButton_button__1Bdxb"}},39:function(e,t,a){e.exports=a(84)},44:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(23),o=a.n(r),i=(a(44),a(4)),s=a(3),l=a(2),u=Object(l.atom)({key:"copyright",default:{}}),m=Object(l.atom)({key:"searchText",default:""}),p=Object(l.atom)({key:"displayedCharacters",default:[]}),f=Object(l.atom)({key:"favouritesCharacters",default:[]}),h=Object(l.atom)({key:"paginationInfo",default:{offset:0,limit:0,total:0,count:0}}),d=a(15),b=a(16),v=a(18),g=a(17),E=a(10),O=a.n(E),j=a(19),S="http://gateway.marvel.com/v1/public",N="".concat("200c7ad6b3027953b93fd75e83977c98"),y=function(){var e=Object(j.a)(O.a.mark((function e(t,a){var n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/characters?apikey=").concat(N));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,t(c.data.results),a({copyright:c.copyright,attributionText:c.attributionText,attributionHTML:c.attributionHTML});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(O.a.mark((function e(t,a,n){var c,r,o,i,s,l,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/characters?apikey=").concat(N,"&nameStartsWith=").concat(n));case 2:return c=e.sent,e.next=5,c.json();case 5:(r=e.sent).data?(o=r.data,i=o.offset,s=o.limit,l=o.total,u=o.count,t&&t({offset:i,limit:s,total:l,count:u}),a(r.data.results)):a([]);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/characters/").concat(t,"?apikey=").concat(N));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n.data.results);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=a(35),R=a.n(x),w=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("span",{className:R.a.button,onClick:function(){k(e.props.pagination,e.props.onClickedAction,e.props.searchText)}},this.props.text)}}]),a}(n.PureComponent),T=a(38),I=(a(69),function(e){var t=Object(n.useState)(void 0),a=Object(i.a)(t,2),r=a[0],o=a[1],s=Object(l.useRecoilState)(f),u=Object(i.a)(s,2),m=u[0],p=u[1];return Object(n.useEffect)((function(){var t=e.match.params.id;C(t).then((function(e){e&&e.length>0&&o(e[0])}))}),[]),r?c.a.createElement("div",{className:"characterDetailsContainer"},c.a.createElement(w,{text:"add to favourites",onClickedAction:function(){m.some((function(e){return e===r.id}))||p([].concat(Object(T.a)(m),[r.id]))}}),c.a.createElement("img",{className:"highResolution",alt:"",src:"".concat(r.thumbnail.path,".").concat(r.thumbnail.extension)}),c.a.createElement("span",null,"CHARACTER DETAILSSSSSSSSSSSS")):null}),L=function(){return c.a.createElement("div",null,"ComicsDetails")},A=a(24),P=a(0),D=(a(70),function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"componentWillMount",value:function(){this.setState({selected:!1})}},{key:"render",value:function(){return c.a.createElement("div",{className:"iconContainer"},c.a.createElement(P.b.Provider,{value:{color:"yellow",className:"icon",size:"2rem"}},this.props.isSelected?c.a.createElement(A.a,null):c.a.createElement(A.b,null)))}}]),a}(n.Component)),M=(a(71),function(e){var t=Object(s.f)(),a=Object(l.useRecoilValue)(f);return c.a.createElement("div",{className:"card",onClick:function(){t.push("/characters/".concat(e.heroId))}},c.a.createElement("span",{className:"card-title"},e.heroName),c.a.createElement("div",{className:"image-container"},c.a.createElement("img",{src:e.imgUrl,alt:e.heroName,className:"card-thumb-frame__thumbnail"})),c.a.createElement("span",{className:"card-description"},e.heroDescription),c.a.createElement("span",{className:"card-comics-count"}),c.a.createElement("span",{className:"card-series-count"}),c.a.createElement(D,{isSelected:a.some((function(t){return t.toString()===e.heroId.toString()}))}))}),_=a(27),V=a(37),H=a.n(V),B=(a(80),function(e){var t=Math.round(e.paginationInfo.total/20),a=Object(l.useRecoilState)(p),r=Object(i.a)(a,2),o=(r[0],r[1],Object(l.useRecoilState)(h)),s=Object(i.a)(o,2),u=(s[0],s[1],Object(n.useState)({offset:e.paginationInfo.offset,data:e.data,perPage:20,currentPage:0})),m=Object(i.a)(u,2),f=m[0],d=m[1];console.log("paginationState"+JSON.stringify(f)),Object(n.useEffect)((function(){console.log("TODO CALLING REST MARVEL API",f)}),[f]);return c.a.createElement("div",{className:"paginatorContainer"},c.a.createElement(H.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:t,marginPagesDisplayed:2,pageRangeDisplayed:5,forcePage:f.currentPage,onPageChange:function(e){var t=e.selected,a=t*f.perPage;d(Object(_.a)(Object(_.a)({},f),{},{currentPage:t,offset:a}))},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}))}),F=(a(81),function(){var e=Object(l.useRecoilState)(p),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(l.useRecoilState)(u),s=Object(i.a)(o,2),m=(s[0],s[1]),f=Object(l.useRecoilValue)(h);return Object(n.useEffect)((function(){y(r,m)}),[]),a&&a.length>0?c.a.createElement("div",null,c.a.createElement(B,{data:a,paginationInfo:f}),c.a.createElement("div",{className:"home"},a.map((function(e){return c.a.createElement(M,{heroDescription:e.description,key:e.id.toString(),heroName:e.name,heroId:e.id.toString(),imgUrl:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension)})})))):c.a.createElement("div",{className:"notFound"},c.a.createElement("span",{className:"verticalCenter"},"Not found"))}),U=(a(82),function(){var e=Object(l.useRecoilValue)(f),t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)([]),u=Object(i.a)(s,2),m=u[0],p=u[1],h=[];return Object(n.useEffect)((function(){e.map((function(e){h.push(fetch("".concat(S,"/characters/").concat(e,"?apikey=").concat(N)).then((function(e){return e.json()})))})),Promise.all(h).then((function(e){p(e.map((function(e){return e.data.results[0]}))),o(!0)}))}),[]),r&&m&&m.length>0?c.a.createElement("div",null,c.a.createElement("div",{className:"favouritesContainer"},m.map((function(e){return c.a.createElement(M,{heroDescription:e.description,key:e.id.toString(),heroName:e.name,heroId:e.id.toString(),imgUrl:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension)})})))):m&&m&&0===m.length?c.a.createElement("div",{className:"notFound"},c.a.createElement("span",{className:"verticalCenter"},"Not favourites yet")):c.a.createElement("div",{className:"notFound"},c.a.createElement("span",{className:"verticalCenter"},"Loading ... ",r.toString()))}),W=function(){return c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/",component:F}),c.a.createElement(s.a,{path:"/characters/:id",component:I}),c.a.createElement(s.a,{path:"/favourites",component:U}),c.a.createElement(s.a,{path:"/comics",component:L}),c.a.createElement(s.a,{path:"*"},c.a.createElement(J,null)))},J=function(){return c.a.createElement("span",null,"NOT FOUND")},z=function(e){var t=Object(l.useRecoilState)(m),a=Object(i.a)(t,2),n=a[0],r=a[1];return c.a.createElement("input",{type:"text",value:n,onChange:function(e){r(e.target.value)}})},G=(a(83),function(){var e=Object(s.f)(),t=Object(l.useRecoilState)(m),a=Object(i.a)(t,2),n=a[0],r=a[1],o=Object(l.useRecoilValue)(u),d=Object(l.useRecoilValue)(f),b=Object(l.useRecoilState)(p),v=Object(i.a)(b,2),g=v[0],E=v[1],O=Object(l.useRecoilState)(h),j=Object(i.a)(O,2),S=(j[0],j[1]);return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("img",{className:"logo",src:"/1920px-MarvelLogo.svg.png",onClick:function(){E(g),r(""),e.push("/")}}),c.a.createElement(z,{text:n}),c.a.createElement(w,{text:"search",searchText:n,onClickedAction:E,pagination:S}),d&&d.length?c.a.createElement("span",{className:"favourites",onClick:function(){r(""),e.push("/favourites")}},"\u2764\ufe0f"):""),c.a.createElement(W,null),c.a.createElement("footer",{className:"App-footer"},c.a.createElement("span",{dangerouslySetInnerHTML:{__html:o.attributionHTML}}),c.a.createElement("span",null,o.copyright)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=a(12);o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.RecoilRoot,null,c.a.createElement($.a,null,c.a.createElement(G,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.ca50bb66.chunk.js.map